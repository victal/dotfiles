- name: Add nextcloud APT repository
  apt_repository: repo={{ item.repo }} state=present filename={{ item.name }}
  with_items:
      - name: nextcloud
        repo: 'ppa:nextcloud-devs/client'

- name: Update packages
  apt: update_cache=yes

- name: Install common GUI Packages
  apt:
    state: latest
    name: 
      - caffeine
      - chromium-browser
      - file-roller
      - firefox
      - gimp
      - gnucash
      - gparted
      - inkscape
      - keepassx
      - lame 
      - libreoffice
      - lxappearance
      - meld
      - nextcloud-client
      - picard
      - pidgin
      - speedcrunch
      - thunar
      - terminator
      - vlc
      - redshift-gtk

- name: Link terminator configuration
  become: no
  file: state=link src={{role_path}}/files/terminator path="{{ lookup('env','HOME') }}/.config/terminator"

#Dropbox
#TODO: Get download link dynamically
- name: Install Dropbox from official link
  apt: deb=https://linux.dropbox.com/packages/ubuntu/dropbox_2015.10.28_amd64.deb

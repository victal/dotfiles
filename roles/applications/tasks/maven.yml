# Maven, install from official locations
- name: Download package
  uri: 
    url: "https://archive.apache.org/dist/maven/maven-3/3.5.2/binaries/apache-maven-3.5.2-bin.tar.gz"
    dest: /tmp/maven.tar.gz 
    status_code: 200,304

- name: Unpack
  become: no
  unarchive: copy=no dest={{ lookup('env','HOME') }}/applications/ src=/tmp/maven.tar.gz

- name: Remove package
  file: path=/tmp/maven.tar.gz state=absent

- name: Add mvn symlink to bin
  become: no
  file: state=link src={{ lookup('env','HOME') }}/applications/apache-maven-3.5.2/bin/{{item}} dest={{ lookup('env','HOME') }}/bin/{{item}} force=yes
  with_items: 
    - mvn
    - mvnDebug
